<template>
  <nav class="navbar">
    <router-link to="/"><img src="../assets/logo.svg" /></router-link>
    <div class="searchInput">
      <input type="text" />
      <TheIcon icon="search" />
<!--      <span>{{$router.currentRoute.name}}</span>-->
    </div>
    <div class="navItems">
      <router-link to="/"><svg t="1669043140922" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6121" width="38" height="38"><path d="M1010.992 474.558h-55.764v-16.32h47.604v-35.476L648.576 147.766H386.446l-93.214 72.362a8.16 8.16 0 0 1-13.164-6.444V16.32H126.772v329.03c0 2.536-1.18 4.93-3.192 6.474l-102.41 78.564v27.85h48.926v16.32H13.008a8.162 8.162 0 0 1-8.16-8.16v-40.034c0-2.536 1.18-4.93 3.192-6.474l102.41-78.564V8.16A8.16 8.16 0 0 1 118.61 0h169.616a8.162 8.162 0 0 1 8.16 8.16v188.86l82.26-63.858a8.16 8.16 0 0 1 5.004-1.714h267.718a8.16 8.16 0 0 1 5.004 1.714l359.62 279.158a8.154 8.154 0 0 1 3.156 6.446v47.632a8.156 8.156 0 0 1-8.156 8.16z" fill="#4A555F" p-id="6122"></path><path d="M261.03 231.658V35.358H145.812v285.834z" fill="#F58E6F" p-id="6123"></path><path d="M926.318 1024H636.784a8.162 8.162 0 0 1-8.16-8.16V682.63H397.14V1015.84a8.16 8.16 0 0 1-8.16 8.16H104.38a8.162 8.162 0 0 1-8.16-8.16V412.348c0-2.524 1.168-4.904 3.16-6.45L394.462 177.304a8.168 8.168 0 0 1 4.998-1.71h231.78c1.812 0 3.564 0.602 4.998 1.71l295.076 228.594a8.168 8.168 0 0 1 3.16 6.45V1015.84a8.154 8.154 0 0 1-8.156 8.16z m-281.376-16.32H918.16V416.348L628.454 191.914H402.25L112.54 416.348V1007.68h268.28V674.47a8.16 8.16 0 0 1 8.16-8.16h247.802a8.162 8.162 0 0 1 8.16 8.16V1007.68z" fill="#4A555F" p-id="6124"></path><path d="M621.914 210.946H408.784L131.572 425.708v562.91h230.212V647.272h302.18v341.346h235.162V425.708L621.914 210.946z m-106.564 328.998c-58.968 0-106.782-47.816-106.782-106.782 0-58.968 47.816-106.786 106.782-106.786s106.784 47.816 106.784 106.786c-0.002 58.966-47.818 106.782-106.784 106.782z" fill="#71CCE0" p-id="6125"></path><path d="M515.35 548.098c-63.376 0-114.932-51.558-114.932-114.932 0-63.372 51.556-114.932 114.932-114.932s114.936 51.558 114.936 114.932c0 63.372-51.56 114.932-114.936 114.932z m0-213.546c-54.376 0-98.612 44.236-98.612 98.612s44.236 98.614 98.612 98.614 98.618-44.238 98.618-98.614-44.242-98.612-98.618-98.612z" fill="#4A555F" p-id="6126"></path><path d="M515.352 512.738c-43.874 0-79.572-35.698-79.572-79.574s35.698-79.572 79.572-79.572 79.572 35.696 79.572 79.572-35.698 79.574-79.572 79.574z" fill="#FFD452" p-id="6127"></path><path d="M507.19 326.392h16.32v213.544h-16.32z" fill="#4A555F" p-id="6128"></path><path d="M408.578 425.004h213.544v16.32H408.578zM13.008 1007.672H104.38v16.32H13.008zM926.318 1007.672h91.376v16.32h-91.376z" fill="#4A555F" p-id="6129"></path></svg></router-link>
      <router-link to="/post"><svg t="1669043010660" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2097" width="38" height="38"><path d="M512.12 1024c-3.282 0-6.546-0.03-9.838-0.092-132.404-2.454-257.36-55.846-351.852-150.334C55.94 779.082 2.552 654.126 0.096 521.722-2.508 381.244 50.718 249.22 149.966 149.97 249.216 50.724 381.168-2.466 521.718 0.102c132.404 2.454 257.36 55.846 351.85 150.336 94.488 94.49 147.878 219.448 150.336 351.852 2.606 140.478-50.622 272.502-149.872 371.75-96.918 96.922-225.126 149.954-361.912 149.96z m-0.226-1007.176c-132.318 0-256.286 51.284-350.038 145.036C65.864 257.85 14.388 385.54 16.904 521.41 19.28 649.442 70.922 770.286 162.32 861.684c91.396 91.398 212.244 143.04 340.274 145.414 135.978 2.558 263.568-48.958 359.55-144.946 95.988-95.99 147.468-223.68 144.946-359.548-2.37-128.034-54.014-248.878-145.41-340.276S649.436 19.286 521.406 16.912a521.064 521.064 0 0 0-9.512-0.088z" fill="#4A555F" p-id="2098"></path><path d="M911.534 770.204l-22.81-22.812c-9.416-9.36-22.138-14.684-35.476-14.684h-61.37a50.016 50.016 0 0 1-35.476-14.684 49.786 49.786 0 0 1-14.684-35.42c0-27.74-22.474-50.158-50.16-50.158h-52.906c-13.282 0-26.06 5.268-35.42 14.682l-145.718 145.662a50.184 50.184 0 0 0-14.684 35.476v32.896a50.174 50.174 0 0 0 14.684 35.476l35.812 35.756a50.19 50.19 0 0 1 14.684 35.478v19.674c-1.682 0-3.362 0-5.044-0.058-122.962-2.296-238.976-51.896-326.798-139.664C88.4 760.002 38.8 643.988 36.502 521.024c-0.168-8.574-0.112-17.092 0.28-25.556 25.948 9.922 39.064 36.038 55.54 78.858L155.038 777.6c2.242 6.5 6.39 11.994 11.714 15.804a31.768 31.768 0 0 0 18.72 6.054c17.766 0 32.17-14.402 32.17-32.17v-65.796c0-9.64 3.924-18.382 10.256-24.716 6.278-6.332 15.02-10.2 24.66-10.2 19.28 0 34.916-15.636 34.916-34.916v-16.198c0-19.278 15.58-34.916 34.86-34.916h16.028c28.864 0 54.98-11.712 73.868-30.6 18.888-18.942 30.6-45.06 30.6-73.924 0-57.726-46.798-104.524-104.468-104.524H187.208c-6.838 0-13.002-2.802-17.486-7.288-4.484-4.482-7.286-10.648-7.286-17.486 0-13.672 11.096-24.772 24.772-24.772h53.692c17.038 0 30.824-13.788 30.824-30.824V168.11c0-8.518 3.474-16.198 9.08-21.802 5.548-5.604 13.282-9.022 21.802-9.022 17.038 0 30.824-13.844 30.824-30.882v-35.42c50.496-20.456 104.636-32.114 160.568-34.13 0.84 3.584 1.232 7.228 1.232 10.984v79.416c0 27.798 22.474 50.328 50.272 50.328 8.406 0 16.534 2.074 23.708 5.942a49.8 49.8 0 0 1 18.102 16.422l42.314 63.33a48.866 48.866 0 0 1 8.294 27.294v133.44c0 14.068 11.434 25.502 25.5 25.502 7.006 0 13.394-2.86 18.046-7.454 4.596-4.652 7.454-11.042 7.454-18.048V310.24c0-27.126 21.97-49.152 49.152-49.152 13.562 0 25.836-5.492 34.748-14.402 8.912-8.856 14.404-21.128 14.404-34.75v-2.632a77.906 77.906 0 0 1 29.816-61.316 468.94 468.94 0 0 1 30.768 28.192c87.766 87.822 137.366 203.836 139.664 326.8 1.796 96.286-24.77 188.478-75.938 267.224z" fill="#71CCE0" p-id="2099"></path><path d="M512.062 1023.99c-1.374 0-2.742-0.006-4.118-0.016a8.408 8.408 0 0 1-8.342-8.406v-47.696c0-11.002-4.456-21.766-12.222-29.534l-35.808-35.75c-10.902-10.902-17.152-25.998-17.152-41.426v-32.896c0-15.424 6.25-30.52 17.144-41.42l145.722-145.664c10.826-10.888 25.904-17.144 41.36-17.144h52.908c32.296 0 58.568 26.272 58.568 58.566 0 11.176 4.334 21.636 12.206 29.456 7.892 7.9 18.378 12.24 29.544 12.24h61.37c15.588 0 30.294 6.084 41.404 17.13l43.002 43.004a8.404 8.404 0 0 1 1.056 10.596c-95.398 143.584-254.656 228.96-426.642 228.96z m126.586-383.138c-11.012 0-21.744 4.446-29.456 12.202l-145.736 145.68c-7.766 7.77-12.222 18.534-12.222 29.532v32.896c0 11.002 4.456 21.766 12.222 29.534l35.808 35.75c10.902 10.902 17.152 25.998 17.152 41.426v39.286c162.388-1.402 312.588-81.5 404.45-215.734l-38.088-38.088c-7.92-7.874-18.418-12.222-29.534-12.222h-61.37c-15.658 0-30.364-6.09-41.416-17.148-11.05-10.98-17.148-25.674-17.148-41.362 0-23.022-18.73-41.752-41.754-41.752h-52.908z" fill="#4A555F" p-id="2100"></path><path d="M536.032 967.872c0-20.586-8.344-40.738-22.888-55.288l-35.832-35.776a22.274 22.274 0 0 1-6.458-15.646v-32.896c0-5.838 2.358-11.546 6.474-15.662l145.718-145.66a22.086 22.086 0 0 1 15.604-6.478h52.91c12.204 0 22.138 9.93 22.138 22.136 0 20.95 8.154 40.588 22.954 55.298 14.69 14.696 34.328 22.828 55.224 22.828h61.37c5.9 0 11.482 2.32 15.718 6.536l26.32 26.318c-84.866 115.454-216.398 186.242-359.252 193.38v-19.09z" fill="#FFD452" p-id="2101"></path><path d="M663.42 457.92c-18.696 0-33.906-15.212-33.906-33.908v-133.44c0-8.122-2.37-15.936-6.858-22.598l-42.334-63.354a41.42 41.42 0 0 0-15.056-13.67 41.714 41.714 0 0 0-19.764-4.958c-32.354 0-58.678-26.35-58.678-58.736V47.838c0-12.33-5.37-23.944-14.73-31.86a8.408 8.408 0 0 1 4.88-14.808 532.466 532.466 0 0 1 44.76-1.08c120.152 2.248 236.418 47.474 327.37 127.346a8.412 8.412 0 0 1-1.706 13.796c-2.02 1.038-4.22 1.996-6.918 3.02-26.812 10.228-44.842 36.374-44.842 65.054v2.632c0 15.432-5.998 29.89-16.884 40.712-10.858 10.858-25.308 16.846-40.676 16.846-22.468 0-40.742 18.278-40.742 40.744v113.77c0 8.992-3.508 17.5-9.88 23.954-6.528 6.448-15.038 9.956-24.036 9.956zM494.968 17.108a58.576 58.576 0 0 1 8.67 30.73v79.416c0 23.116 18.782 41.922 41.864 41.922 9.688 0 19.266 2.402 27.7 6.946a58.252 58.252 0 0 1 21.116 19.176l42.302 63.306c6.348 9.424 9.71 20.484 9.71 31.966v133.44c0 9.426 7.668 17.096 17.092 17.096 4.548 0 8.862-1.786 12.144-5.028a17.15 17.15 0 0 0 4.954-12.066V310.24c0-31.738 25.816-57.558 57.556-57.558 10.876 0 21.104-4.24 28.806-11.94 7.706-7.662 11.942-17.884 11.942-28.806v-2.632c0-33.184 19.436-63.634 49.034-77.908C741.472 59.544 633.186 18.99 521.416 16.9c-8.66-0.162-17.51-0.096-26.448 0.208z" fill="#4A555F" p-id="2102"></path><path d="M665.636 283.62a76.48 76.48 0 0 0-12.764-35.998l-42.264-63.246a77.844 77.844 0 0 0-28.252-25.6c-11.138-6.002-23.934-9.218-36.856-9.218-12.268 0-22.248-10.006-22.248-22.306V47.838c0-3.81-0.274-7.584-0.812-11.298 98.108 2.132 193.38 35.132 272.264 93.73-22.074 19.812-35.498 48.478-35.498 79.034v2.632c0 5.658-2.178 10.942-6.136 14.874-4.056 4.056-9.358 6.256-14.996 6.256-33.2 0-61.574 21.076-72.438 50.554z" fill="#FFD452" p-id="2103"></path><path d="M185.47 807.864a40.02 40.02 0 0 1-23.658-7.656c-6.816-4.876-11.926-11.76-14.72-19.866L84.378 577.08c-22.49-58.366-36.594-77.8-75.504-77.8a8.406 8.406 0 0 1-8.406-8.406c8.478-205.444 138-384.914 329.976-457.734a8.408 8.408 0 0 1 11.39 7.862v65.404c0 21.664-17.598 39.288-39.232 39.288-6.036 0-11.658 2.32-15.826 6.53-4.296 4.298-6.648 9.93-6.648 15.888v123.018c0 21.632-17.598 39.232-39.232 39.232H187.208c-9.022 0-16.364 7.34-16.364 16.364 0 4.334 1.714 8.432 4.822 11.542 3.112 3.112 7.21 4.824 11.542 4.824h151.154c62.238 0 112.872 50.66 112.872 112.93 0 30.122-11.74 58.482-33.056 79.858-21.326 21.328-49.668 33.072-79.818 33.072h-16.03c-14.586 0-26.452 11.892-26.452 26.51v16.198c0 23.888-19.436 43.322-43.322 43.322-7.124 0-13.762 2.738-18.688 7.71-5.052 5.054-7.822 11.72-7.822 18.798v65.796c0.002 22.374-18.202 40.578-40.576 40.578zM17.682 482.812c46.338 3.758 63.018 37.912 82.488 88.494 0.068 0.178 0.132 0.358 0.186 0.542l62.714 203.276a23.66 23.66 0 0 0 8.57 11.444 23.34 23.34 0 0 0 13.828 4.484c13.102 0 23.764-10.66 23.764-23.764v-65.796c0-11.57 4.518-22.46 12.72-30.66 8.082-8.156 18.958-12.662 30.604-12.662 14.616 0 26.51-11.892 26.51-26.51v-16.198c0-23.888 19.408-43.322 43.266-43.322h16.03c25.658 0 49.778-9.992 67.922-28.138 18.14-18.196 28.138-42.34 28.138-67.98 0-53-43.092-96.116-96.06-96.116H187.208c-8.822 0-17.144-3.464-23.43-9.75-6.286-6.284-9.748-14.606-9.748-23.43 0-18.294 14.884-33.178 33.178-33.178h53.692c12.362 0 22.418-10.056 22.418-22.418v-123.02c0-10.45 4.1-20.304 11.542-27.746 7.318-7.396 17.182-11.486 27.744-11.486 12.362 0 22.418-10.082 22.418-22.476V53.34C148.172 125.406 28.73 292.13 17.682 482.812z" fill="#4A555F" p-id="2104"></path><path d="M185.47 771.434c-0.852 0-1.606-0.236-2.246-0.702a4.502 4.502 0 0 1-1.602-2.026L118.82 565.15l-0.344-0.892c-18.368-47.718-36.734-86.12-79.88-97.768 15.72-165.996 117.12-310.93 266.81-382.99v22.904c0 1.576-1.256 2.86-2.802 2.86-15.84 0-30.656 6.156-41.716 17.332-11.048 11.046-17.186 25.826-17.186 41.516v123.018c0 1.57-1.232 2.802-2.802 2.802H187.206c-29.112 0-52.794 23.684-52.794 52.794 0 14.064 5.502 27.312 15.492 37.302 9.994 9.992 23.238 15.494 37.302 15.494h151.154c42.152 0 76.446 34.318 76.446 76.5 0 20.408-7.964 39.636-22.424 54.136-14.41 14.412-33.606 22.364-54.022 22.364h-16.028c-34.676 0-62.884 28.234-62.884 62.938v16.198a6.9 6.9 0 0 1-6.894 6.892c-16.918 0-32.746 6.57-44.566 18.498-11.816 11.814-18.374 27.632-18.374 44.44v65.796a4.146 4.146 0 0 1-4.144 4.15zM536.032 967.872c0-20.586-8.344-40.738-22.888-55.288l-35.832-35.776a22.274 22.274 0 0 1-6.458-15.646v-32.896c0-5.838 2.358-11.546 6.474-15.662l145.718-145.66a22.086 22.086 0 0 1 15.604-6.478h52.91c12.204 0 22.138 9.93 22.138 22.136 0 20.95 8.154 40.588 22.954 55.298 14.69 14.696 34.328 22.828 55.224 22.828h61.37c5.9 0 11.482 2.32 15.718 6.536l26.32 26.318c-84.866 115.454-216.398 186.242-359.252 193.38v-19.09z" fill="#FFD452" p-id="2105"></path></svg></router-link>
<!--      <button @click="publishPost()"><TheIcon icon="publish" /> </button>-->
      <button @click="createGallery()"><TheIcon icon="publish" /></button>
      <div class="profileDropDown">
        <TheAvatar
            :width="42"
            :height="42"
            style="cursor: pointer"
            :src="user.avatar"
        />
        <div class="dropdownMenu">
          <ul class="profileMenu">
            <li><router-link to="/profile">个人主页</router-link></li>
            <li>退出登录</li>
          </ul>
        </div>
      </div>
    </div>
  </nav>
</template>

<script setup>
import TheIcon from "./TheIcon.vue";
import TheAvatar from "./TheAvatar.vue";
import {useStore} from "vuex";
import {computed} from "vue";

const store = useStore();
const user = computed(() => store.state.user.user)

function publishPost() {
  store.commit("changeShowPostUpload", true);
}

function createGallery() {
  store.commit("changeShowGalleryCreate", true);
}

</script>

<style scoped>
.navbar {
  width: 80vw;
  height: 80px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  align-items: center;
}

.navbar svg {
  width: 38px;
  height: 38px;
}

.searchInput {
  position: relative;
}

.searchInput input {
  width: 100%;
  padding: 12px 12px 12px 36px;

  background: #f1f1f1;
  border-radius: 14px;
  border: none;
}

.searchInput > svg {
  position: absolute;
  left: 0;
  top: 11px;
  left: 12px;
}

.searchInput span {
  width: 100%;
  padding: 12px 12px 12px 36px;
  text-align: center;
  font-size: 32px;
  font-weight: 800;
}

.navItems {
  justify-self: end;
  display: flex;
  gap: 24px;
  align-items: center;
}

.navItems > button {
  border: none;
  background: none;
}

.profileDropDown {
  position: relative;
}

.profileMenu {
  position: absolute;
  width: max-content;
  padding: 24px 26px;
  list-style: none;
  background: white;
  box-shadow: 0px 0px 24px rgba(0, 0, 0, 0.08);
  border-radius: 4px;
  right: 0;
  display: grid;
  row-gap: 18px;
  transform: translateY(18px);
}

.profileMenu::before {
  content: "";
  display: block;
  position: absolute;
  width: 0;
  height: 0;
  top: -12px;
  right: 10px;
  border-bottom: 12px solid white;
  border-left: 12px solid transparent;
  border-right: 12px solid transparent;
}

.profileMenu a,
.profileMenu li {
  text-decoration: none;
  cursor: pointer;
}

.profileMenu a:visited {
  color: initial;
}



</style>